{"ast":null,"code":"import _slicedToArray from \"C:/Users/DELL/Desktop/school managment/arvind/school-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\school managment\\\\arvind\\\\school-front\\\\src\\\\components\\\\admin\\\\CheckMap.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport MenuBar from '../MenuBar';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport haversine from 'haversine-distance';\nimport { Container, Row, Col, Card, Table, Button } from 'react-bootstrap';\nimport { FaPlusCircle, FaTimesCircle } from \"react-icons/fa\";\nimport Fade from 'react-reveal/Fade';\nimport { Redirect } from 'react-router-dom';\nimport Add from './AddStudent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CheckMap(props) {\n  _s();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      cancle = _useState2[0],\n      setCancle = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      add = _useState4[0],\n      setAdd = _useState4[1];\n\n  var location = [];\n  var user = [props.lng, props.lat];\n  console.log(\"UserLocationProps\", user);\n  props.allData.map(function (sch) {\n    return location.push({\n      schoolId: sch.id,\n      schoolName: sch.schoolName,\n      schoolCode: sch.schoolCode,\n      schoolEmail: sch.schoolEmail,\n      schoolContact: sch.schoolContact,\n      schoolAddress: sch.schoolAddress,\n      headName: sch.headName,\n      headEmail: sch.headEmail,\n      headContact: sch.headContact,\n      schoolLng: sch.schoolLng,\n      schoolLat: sch.schoolLat,\n      distance: (haversine(user, [sch.schoolLng, sch.schoolLat]) / 1000).toFixed(2)\n    });\n  });\n  var sortLocation = location.sort(function (a, b) {\n    return a.distance - b.distance;\n  });\n\n  if (cancle) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (add) {\n    return /*#__PURE__*/_jsxDEV(Add, {\n      schoolId: sortLocation[0].schoolId,\n      sLng: sortLocation[0].schoolLng,\n      sLat: sortLocation[0].schoolLat\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(MenuBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      style: {\n        marginTop: '30px',\n        marginBottom: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Fade, {\n          top: true,\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              size: \"sm\",\n              variant: \"warning\",\n              style: {\n                borderRadius: '0px'\n              },\n              onClick: function onClick() {\n                return setAdd(true);\n              },\n              children: [\"Add Student \", /*#__PURE__*/_jsxDEV(FaPlusCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 132\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"sm\",\n              variant: \"danger\",\n              style: {\n                borderRadius: '0px',\n                marginLeft: '20px'\n              },\n              onClick: function onClick() {\n                return setCancle(true);\n              },\n              children: [\"Cancel \", /*#__PURE__*/_jsxDEV(FaTimesCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 149\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          marginTop: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 7,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              height: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: \"School Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Table, {\n                bordered: true,\n                hover: true,\n                responsive: true,\n                children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"School Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 65,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 65,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: sortLocation[0].schoolName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 66,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"School Code\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 69,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 69,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: sortLocation[0].schoolCode\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 70,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"School Email\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 73,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 73,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: sortLocation[0].schoolEmail\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 74,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"School Contact\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 77,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 77,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: sortLocation[0].schoolContact\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 78,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"School Address\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 81,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 81,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: sortLocation[0].schoolAddress\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"School Head Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 85,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: sortLocation[0].headName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 86,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"School Head Email\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 89,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: sortLocation[0].headEmail\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"School Head Contact\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 93,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: sortLocation[0].headContact\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 5,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              height: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: \"Nearest school show on the map\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 33\n              }, this), sortLocation.length === 0 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Loading...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 65\n              }, this) : /*#__PURE__*/_jsxDEV(MapContainer, {\n                center: [sortLocation[0].schoolLng, sortLocation[0].schoolLat],\n                zoom: 13,\n                scrollWheelZoom: true,\n                style: {\n                  width: '100%',\n                  height: '500px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n                  attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n                  url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Marker, {\n                  position: [sortLocation[0].schoolLng, sortLocation[0].schoolLat],\n                  children: /*#__PURE__*/_jsxDEV(Popup, {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: sortLocation[0].schoolName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 98\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: sortLocation[0].schoolAddress\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CheckMap, \"GdbmRu61Q4x8MPMGp1rqNrPBlRE=\");\n\n_c = CheckMap;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckMap\");","map":{"version":3,"sources":["C:/Users/DELL/Desktop/school managment/arvind/school-front/src/components/admin/CheckMap.js"],"names":["React","useState","MenuBar","MapContainer","TileLayer","Marker","Popup","haversine","Container","Row","Col","Card","Table","Button","FaPlusCircle","FaTimesCircle","Fade","Redirect","Add","CheckMap","props","cancle","setCancle","add","setAdd","location","user","lng","lat","console","log","allData","map","sch","push","schoolId","id","schoolName","schoolCode","schoolEmail","schoolContact","schoolAddress","headName","headEmail","headContact","schoolLng","schoolLat","distance","toFixed","sortLocation","sort","a","b","marginTop","marginBottom","borderRadius","marginLeft","height","length","width"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport MenuBar from '../MenuBar'\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'\r\nimport haversine from 'haversine-distance'\r\nimport { Container, Row, Col, Card, Table, Button } from 'react-bootstrap'\r\nimport { FaPlusCircle, FaTimesCircle } from \"react-icons/fa\";\r\nimport Fade from 'react-reveal/Fade'\r\nimport {Redirect} from 'react-router-dom'\r\nimport Add from './AddStudent'\r\n\r\nexport default function CheckMap(props) {\r\n\r\n    const [cancle, setCancle] = useState(false)\r\n    const [add, setAdd] = useState(false)\r\n\r\n    const location = []\r\n    const user = [props.lng, props.lat]\r\n    console.log(\"UserLocationProps\", user)\r\n    props.allData.map(sch =>\r\n        location.push({\r\n            schoolId: sch.id,\r\n            schoolName: sch.schoolName,\r\n            schoolCode: sch.schoolCode,\r\n            schoolEmail: sch.schoolEmail,\r\n            schoolContact: sch.schoolContact,\r\n            schoolAddress: sch.schoolAddress,\r\n            headName: sch.headName,\r\n            headEmail: sch.headEmail,\r\n            headContact: sch.headContact,\r\n            schoolLng: sch.schoolLng,\r\n            schoolLat: sch.schoolLat,\r\n            distance: (haversine(user, [sch.schoolLng, sch.schoolLat]) / 1000).toFixed(2),\r\n        })\r\n    )\r\n    const sortLocation = location.sort(function (a, b) {\r\n        return a.distance - b.distance;\r\n    })\r\n\r\n    if(cancle) {\r\n        return <Redirect to=\"/dashboard\"/>\r\n    }\r\n    if(add) {\r\n        return <Add schoolId={sortLocation[0].schoolId} sLng={sortLocation[0].schoolLng} sLat={sortLocation[0].schoolLat}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <MenuBar />\r\n            <Container fluid style={{ marginTop: '30px', marginBottom: '30px' }}>\r\n                <Row>\r\n\r\n                    <Fade top><Col>\r\n                        <Button size=\"sm\" variant=\"warning\" style={{ borderRadius: '0px' }} onClick={()=>setAdd(true)}>Add Student <FaPlusCircle /></Button>\r\n                        <Button size=\"sm\" variant=\"danger\" style={{ borderRadius: '0px', marginLeft: '20px' }} onClick={()=>setCancle(true)}>Cancel <FaTimesCircle /></Button>\r\n                    </Col></Fade>\r\n                </Row>\r\n                <Row style={{ marginTop: '10px' }}>\r\n                    <Col md={7}>\r\n                        <Card style={{ height: '100%' }}>\r\n                            <Card.Body>\r\n                                <Card.Title>School Details</Card.Title>\r\n                                <Table bordered hover responsive>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td><strong>School Name</strong></td>\r\n                                            <td>{sortLocation[0].schoolName}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td><strong>School Code</strong></td>\r\n                                            <td>{sortLocation[0].schoolCode}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td><strong>School Email</strong></td>\r\n                                            <td>{sortLocation[0].schoolEmail}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td><strong>School Contact</strong></td>\r\n                                            <td>{sortLocation[0].schoolContact}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td><strong>School Address</strong></td>\r\n                                            <td>{sortLocation[0].schoolAddress}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td><strong>School Head Name</strong></td>\r\n                                            <td>{sortLocation[0].headName}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td><strong>School Head Email</strong></td>\r\n                                            <td>{sortLocation[0].headEmail}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td><strong>School Head Contact</strong></td>\r\n                                            <td>{sortLocation[0].headContact}</td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                    <Col md={5}>\r\n                        <Card style={{ height: '100%' }}>\r\n                            <Card.Body>\r\n                                <Card.Title>Nearest school show on the map</Card.Title>\r\n                                {\r\n                                    sortLocation.length === 0 ? <h1>Loading...</h1> :\r\n\r\n                                        <MapContainer center={[sortLocation[0].schoolLng, sortLocation[0].schoolLat]} zoom={13}\r\n                                            scrollWheelZoom={true}\r\n                                            style={{ width: '100%', height: '500px' }}>\r\n                                            <TileLayer\r\n                                                attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                                                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                                            />\r\n                                            <Marker position={[sortLocation[0].schoolLng, sortLocation[0].schoolLat]}>\r\n                                                <Popup>\r\n                                                    <strong>{sortLocation[0].schoolName}</strong><br />\r\n                                                    <small>{sortLocation[0].schoolAddress}</small>\r\n                                                </Popup>\r\n                                            </Marker>\r\n                                        </MapContainer>\r\n                                }\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n\r\n                </Row>\r\n            </Container>\r\n\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}